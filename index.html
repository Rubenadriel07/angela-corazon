<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíú Para Angela Mar√≠a - Una Sorpresa Especial</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíú</text></svg>">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Orbitron:wght@400;700&family=Dancing+Script:wght@700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0c0c1d 0%, #1a1a2e 50%, #16213e 100%);
            overflow-x: hidden;
            color: #fff;
            position: relative;
            min-height: 100vh;
        }

        /* Galaxia animada con nebulosas */
        .galaxy {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(186, 135, 186, 0.15) 0%, transparent 60%),
                radial-gradient(circle at 80% 70%, rgba(255, 182, 193, 0.12) 0%, transparent 60%),
                radial-gradient(circle at 40% 80%, rgba(245, 222, 179, 0.1) 0%, transparent 60%),
                linear-gradient(135deg, rgba(10, 10, 30, 0.8) 0%, rgba(20, 20, 40, 0.9) 100%);
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        .shooting-star {
            position: absolute;
            width: 120px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ffb6c1, #ba87ba, transparent);
            transform: rotate(-45deg);
            animation: shoot 8s infinite;
            filter: drop-shadow(0 0 10px rgba(255, 182, 193, 0.7));
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.3); }
        }

        @keyframes shoot {
            0% { 
                transform: translateX(-100px) translateY(-100px) rotate(-45deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            100% { 
                transform: translateX(calc(100vw + 100px)) translateY(calc(100vh + 100px)) rotate(-45deg);
                opacity: 0;
            }
        }

        /* Corazones flotantes */
        .floating-heart {
            position: fixed;
            font-size: 24px;
            opacity: 0;
            z-index: 1;
            pointer-events: none;
            animation: float-heart 15s infinite linear;
            filter: drop-shadow(0 0 5px currentColor);
        }

        @keyframes float-heart {
            0% {
                transform: translateY(100vh) translateX(-50px) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100px) translateX(calc(100vw + 50px)) rotate(360deg) scale(1);
                opacity: 0;
            }
        }

        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            position: relative;
            z-index: 2;
        }

        /* FASE 1: Inicio √âPICO */
        #phase1 {
            text-align: center;
            animation: fadeIn 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .heart-monument {
            width: 220px;
            height: 220px;
            margin: 0 auto 50px;
            background: linear-gradient(135deg, #ba87ba, #ffb6c1, #f5deb3, #ba87ba);
            background-size: 400% 400%;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 90px;
            box-shadow: 
                0 0 100px rgba(186, 135, 186, 0.8),
                0 0 150px rgba(255, 182, 193, 0.6),
                0 0 200px rgba(245, 222, 179, 0.4),
                inset 0 0 60px rgba(255, 255, 255, 0.3);
            animation: 
                pulse-heart 2.5s infinite,
                rotate-gradient 8s linear infinite,
                float-gentle 6s ease-in-out infinite;
            position: relative;
            cursor: pointer;
            transition: all 0.4s;
        }

        .heart-monument:hover {
            transform: scale(1.15);
            box-shadow: 
                0 0 120px rgba(186, 135, 186, 0.9),
                0 0 180px rgba(255, 182, 193, 0.7),
                0 0 240px rgba(245, 222, 179, 0.5);
        }

        .heart-monument::before {
            content: '';
            position: absolute;
            width: 260px;
            height: 260px;
            border: 2px solid rgba(186, 135, 186, 0.5);
            border-radius: 50%;
            animation: pulse-ring 3s infinite;
        }

        .heart-monument::after {
            content: '';
            position: absolute;
            width: 300px;
            height: 300px;
            border: 1px solid rgba(255, 182, 193, 0.3);
            border-radius: 50%;
            animation: pulse-ring 4s infinite 0.5s;
        }

        @keyframes pulse-heart {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(2deg); }
            50% { transform: scale(1.05) rotate(-1deg); }
            75% { transform: scale(1.08) rotate(1deg); }
        }

        @keyframes rotate-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes float-gentle {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(1deg); }
        }

        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.4); opacity: 0; }
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5em;
            background: linear-gradient(135deg, #ba87ba, #ffb6c1, #f5deb3, #ba87ba);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 25px;
            animation: 
                gradient-shift 6s ease infinite,
                text-glow 3s infinite alternate;
            text-shadow: 0 0 50px rgba(255, 182, 193, 0.5);
            letter-spacing: 1px;
        }

        @keyframes text-glow {
            from { text-shadow: 0 0 30px rgba(255, 182, 193, 0.4); }
            to { text-shadow: 0 0 60px rgba(186, 135, 186, 0.8); }
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            font-size: 1.6em;
            color: #ffb6c1;
            margin-bottom: 50px;
            font-weight: 300;
            letter-spacing: 2px;
            text-shadow: 0 0 25px rgba(255, 182, 193, 0.6);
            animation: subtitle-float 4s ease-in-out infinite;
        }

        @keyframes subtitle-float {
            0%, 100% { transform: translateY(0); opacity: 0.9; }
            50% { transform: translateY(-5px); opacity: 1; }
        }

        .loading-epic {
            width: 450px;
            margin: 50px auto;
            position: relative;
        }

        .loading-text {
            color: #f5deb3;
            font-size: 1.3em;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(245, 222, 179, 0.6);
            font-weight: 500;
            animation: text-pulse 2s infinite;
        }

        @keyframes text-pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .loading-bar-container {
            width: 100%;
            height: 18px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 
                inset 0 2px 10px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(186, 135, 186, 0.2);
            position: relative;
        }

        .loading-progress-epic {
            height: 100%;
            background: linear-gradient(90deg, 
                #ba87ba, 
                #ffb6c1, 
                #f5deb3, 
                #ffb6c1, 
                #ba87ba);
            background-size: 200% 100%;
            width: 0%;
            border-radius: 10px;
            box-shadow: 
                0 0 25px rgba(255, 182, 193, 0.9),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
            animation: progress-shimmer 2s infinite linear;
        }

        @keyframes progress-shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .loading-progress-epic::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Botones √âPICOS */
        .btn-epic {
            padding: 22px 70px;
            font-size: 1.4em;
            border: none;
            border-radius: 60px;
            background: linear-gradient(135deg, #ba87ba, #ffb6c1, #f5deb3);
            background-size: 200% 200%;
            color: white;
            cursor: pointer;
            box-shadow: 
                0 12px 50px rgba(186, 135, 186, 0.6),
                0 0 40px rgba(255, 182, 193, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                inset 0 -2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 700;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
            font-family: 'Orbitron', sans-serif;
            margin-top: 40px;
            text-transform: uppercase;
            animation: button-glow 3s infinite alternate;
        }

        @keyframes button-glow {
            from { box-shadow: 0 12px 50px rgba(186, 135, 186, 0.6), 0 0 40px rgba(255, 182, 193, 0.4); }
            to { box-shadow: 0 12px 60px rgba(186, 135, 186, 0.8), 0 0 50px rgba(255, 182, 193, 0.6); }
        }

        .btn-epic::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.3), 
                transparent);
            transition: left 0.7s;
        }

        .btn-epic:hover::before {
            left: 100%;
        }

        .btn-epic:hover {
            transform: translateY(-8px) scale(1.08);
            box-shadow: 
                0 20px 70px rgba(186, 135, 186, 0.9),
                0 0 60px rgba(255, 182, 193, 0.7),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
            letter-spacing: 3px;
            animation: none;
            background-position: 100% 100%;
        }

        /* FASE 2: Esc√°ner √âPICO */
        .scanner-epic {
            width: 90%;
            max-width: 550px;
            height: 450px;
            background: linear-gradient(135deg, 
                rgba(30, 30, 60, 0.95), 
                rgba(20, 20, 40, 0.98));
            border-radius: 35px;
            padding: 60px;
            box-shadow: 
                0 25px 100px rgba(0, 0, 0, 0.7),
                inset 0 0 80px rgba(186, 135, 186, 0.15),
                0 0 100px rgba(186, 135, 186, 0.5);
            position: relative;
            overflow: hidden;
            border: 3px solid rgba(186, 135, 186, 0.4);
            backdrop-filter: blur(15px);
        }

        .scanner-epic::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                transparent, 
                rgba(255, 182, 193, 0.15), 
                rgba(186, 135, 186, 0.15), 
                transparent);
            animation: scanner-rotate 12s infinite linear;
        }

        @keyframes scanner-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .heartbeat-scan {
            position: absolute;
            width: 85%;
            height: 6px;
            background: linear-gradient(90deg, 
                transparent, 
                #ffb6c1, 
                #ba87ba, 
                #f5deb3, 
                #ba87ba, 
                #ffb6c1, 
                transparent);
            top: 50%;
            left: 7.5%;
            animation: heartbeat-pulse 2s infinite cubic-bezier(0.4, 0, 0.6, 1);
            box-shadow: 
                0 0 25px #ffb6c1,
                0 0 50px rgba(186, 135, 186, 0.5);
            border-radius: 3px;
            filter: blur(1px);
        }

        @keyframes heartbeat-pulse {
            0%, 100% { 
                opacity: 0.3;
                transform: scaleX(0.7);
                filter: blur(1px);
            }
            25% { 
                opacity: 0.6;
                transform: scaleX(0.9);
                filter: blur(0.5px);
            }
            50% { 
                opacity: 1;
                transform: scaleX(1);
                filter: blur(0px);
            }
            75% { 
                opacity: 0.6;
                transform: scaleX(0.9);
                filter: blur(0.5px);
            }
        }

        .scanner-text-epic {
            font-size: 2.2em;
            color: #ffb6c1;
            margin: 120px 0 50px;
            font-weight: 700;
            text-shadow: 
                0 0 25px rgba(255, 182, 193, 0.9),
                0 0 50px rgba(186, 135, 186, 0.5);
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 3px;
            position: relative;
            z-index: 1;
            animation: text-vibrate 3s infinite;
        }

        @keyframes text-vibrate {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }

        /* FASE 3: Memorias √âPICAS */
        .memory-epic {
            background: linear-gradient(135deg, 
                rgba(186, 135, 186, 0.18), 
                rgba(255, 182, 193, 0.15),
                rgba(245, 222, 179, 0.12));
            padding: 35px;
            border-radius: 25px;
            margin: 35px 0;
            border-left: 6px solid;
            border-image: linear-gradient(to bottom, #ba87ba, #ffb6c1, #f5deb3) 1;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(15px);
            box-shadow: 
                0 15px 50px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                0 0 30px rgba(186, 135, 186, 0.2);
            display: flex;
            gap: 30px;
            align-items: center;
            position: relative;
            overflow: hidden;
            transform-origin: left center;
        }

        .memory-epic::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, 
                #ba87ba, 
                #ffb6c1, 
                #f5deb3);
            transform: translateX(-100%);
            transition: transform 0.8s;
        }

        .memory-epic:hover::before {
            transform: translateX(0);
        }

        .memory-epic:hover {
            transform: translateX(20px) scale(1.03);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.35),
                0 0 40px rgba(255, 182, 193, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-left-width: 10px;
        }

        .memory-img-epic {
            width: 200px;
            height: 200px;
            border-radius: 20px;
            object-fit: cover;
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.5),
                0 0 25px rgba(255, 182, 193, 0.4);
            border: 4px solid rgba(255, 182, 193, 0.6);
            flex-shrink: 0;
            cursor: pointer;
            transition: all 0.5s;
            filter: sepia(0.2) brightness(1.05) contrast(1.1);
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .memory-img-epic:hover {
            transform: scale(1.1) rotateY(5deg) rotateX(2deg);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.6),
                0 0 40px rgba(255, 182, 193, 0.6),
                0 0 60px rgba(186, 135, 186, 0.4);
            filter: sepia(0) brightness(1.15) contrast(1.2);
            border-color: rgba(245, 222, 179, 0.8);
        }

        .memory-date-epic {
            color: #ffb6c1;
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.2em;
            text-shadow: 0 0 15px rgba(255, 182, 193, 0.6);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .memory-text-epic {
            color: #e0e0e0;
            line-height: 1.9;
            font-size: 1.1em;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        .drive-btn-epic {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
            padding: 10px 20px;
            background: linear-gradient(135deg, rgba(186, 135, 186, 0.3), rgba(255, 182, 193, 0.3));
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.4s;
            box-shadow: 0 5px 20px rgba(186, 135, 186, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
        }

        .drive-btn-epic:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(186, 135, 186, 0.7);
            background: linear-gradient(135deg, rgba(186, 135, 186, 0.4), rgba(255, 182, 193, 0.4));
            letter-spacing: 0.5px;
        }

        /* Control de m√∫sica √âPICO */
        .music-controls-epic {
            position: fixed;
            bottom: 40px;
            right: 40px;
            z-index: 1000;
            background: rgba(186, 135, 186, 0.25);
            backdrop-filter: blur(20px);
            border-radius: 60px;
            padding: 18px 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(255, 182, 193, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(186, 135, 186, 0.5);
            animation: music-appear 1s ease-out 3s forwards;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.4s;
        }

        @keyframes music-appear {
            to { opacity: 1; transform: translateY(0); }
        }

        .music-controls-epic:hover {
            background: rgba(186, 135, 186, 0.35);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 20px 50px rgba(0, 0, 0, 0.6),
                0 0 40px rgba(255, 182, 193, 0.6);
        }

        .music-btn-epic {
            background: linear-gradient(135deg, #ba87ba, #ffb6c1);
            border: none;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            color: white;
            font-size: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s;
            box-shadow: 
                0 8px 25px rgba(186, 135, 186, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                inset 0 -2px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .music-btn-epic::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .music-btn-epic:hover::before {
            width: 100px;
            height: 100px;
        }

        .music-btn-epic:hover {
            transform: scale(1.15) rotate(15deg);
            box-shadow: 
                0 12px 35px rgba(186, 135, 186, 0.9),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }

        .music-info-epic {
            color: #ffb6c1;
            font-size: 1em;
            max-width: 180px;
            text-shadow: 0 0 15px rgba(255, 182, 193, 0.6);
            display: none;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            letter-spacing: 1px;
        }

        /* Fase final √âPICA */
        .final-epic {
            background: linear-gradient(135deg, 
                rgba(30, 30, 60, 0.98), 
                rgba(20, 20, 40, 0.99));
            padding: 100px 60px;
            border-radius: 50px;
            box-shadow: 
                0 40px 150px rgba(0, 0, 0, 0.8),
                0 0 120px rgba(186, 135, 186, 0.6),
                0 0 80px rgba(255, 182, 193, 0.5),
                inset 0 0 100px rgba(255, 182, 193, 0.2);
            position: relative;
            overflow: hidden;
            border: 4px solid rgba(186, 135, 186, 0.6);
            backdrop-filter: blur(20px);
            max-width: 850px;
            width: 100%;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .final-epic::before {
            content: '';
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, 
                rgba(255, 182, 193, 0.25) 0%, 
                rgba(186, 135, 186, 0.15) 20%,
                transparent 70%);
            animation: epic-rotate 25s linear infinite;
            z-index: 0;
        }

        @keyframes epic-rotate {
            to { transform: rotate(360deg); }
        }

        .final-heart-epic {
            font-size: 140px;
            margin-bottom: 50px;
            animation: 
                heartbeat-epic 1.8s infinite,
                float-epic 5s ease-in-out infinite,
                heart-rotate 20s linear infinite;
            filter: 
                drop-shadow(0 0 40px rgba(255, 182, 193, 0.9))
                drop-shadow(0 0 80px rgba(186, 135, 186, 0.7));
            position: relative;
            z-index: 1;
            cursor: pointer;
            transition: all 0.5s;
            display: inline-block;
        }

        .final-heart-epic:hover {
            transform: scale(1.3) rotate(180deg);
            filter: 
                drop-shadow(0 0 60px rgba(255, 182, 193, 1))
                drop-shadow(0 0 120px rgba(186, 135, 186, 0.9));
        }

        @keyframes heartbeat-epic {
            0%, 100% { transform: scale(1) rotate(0deg); }
            10%, 30% { transform: scale(1.25) rotate(5deg); }
            20% { transform: scale(1.15) rotate(-5deg); }
            40% { transform: scale(1.1) rotate(3deg); }
        }

        @keyframes float-epic {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(10deg); }
        }

        @keyframes heart-rotate {
            to { transform: rotateY(360deg); }
        }

        .question-epic {
            font-size: 4em;
            font-weight: bold;
            background: linear-gradient(135deg, 
                #ba87ba, 
                #ffb6c1, 
                #f5deb3, 
                #ffb6c1, 
                #ba87ba);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 50px 0;
            position: relative;
            z-index: 1;
            animation: 
                gradient-shift-epic 8s ease infinite,
                text-pulse-epic 2s infinite alternate,
                question-float 4s ease-in-out infinite;
            text-shadow: 
                0 0 60px rgba(255, 182, 193, 0.8),
                0 0 100px rgba(186, 135, 186, 0.6);
            font-family: 'Dancing Script', cursive;
            line-height: 1.2;
        }

        @keyframes gradient-shift-epic {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes text-pulse-epic {
            from { text-shadow: 0 0 40px rgba(255, 182, 193, 0.6); }
            to { text-shadow: 0 0 80px rgba(186, 135, 186, 1); }
        }

        @keyframes question-float {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.02); }
        }

        .message-epic {
            color: #e0e0e0;
            font-size: 1.5em;
            line-height: 1.9;
            margin: 50px 0;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.7);
            text-align: center;
        }

        .highlight-epic {
            color: #ffb6c1;
            font-weight: 700;
            text-shadow: 0 0 20px rgba(255, 182, 193, 0.8);
            font-size: 1.1em;
        }

        /* Animaciones generales */
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(50px) scale(0.95); 
                filter: blur(5px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
                filter: blur(0);
            }
        }

        @keyframes fadeOut {
            from { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
                filter: blur(0);
            }
            to { 
                opacity: 0; 
                transform: translateY(-50px) scale(0.95); 
                filter: blur(5px);
            }
        }

        .hidden {
            display: none !important;
        }

        .phase {
            animation: fadeIn 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            h1 { font-size: 3.5em; }
            .heart-monument { width: 190px; height: 190px; font-size: 75px; }
            .loading-epic { width: 80%; }
            .scanner-epic { max-width: 500px; padding: 40px; }
            .memory-epic { flex-direction: column; }
            .memory-img-epic { width: 100%; max-width: 300px; height: 200px; }
            .question-epic { font-size: 3em; }
            .final-epic { padding: 70px 40px; }
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.8em; }
            .subtitle { font-size: 1.3em; }
            .heart-monument { 
                width: 160px; 
                height: 160px; 
                font-size: 65px; 
                margin-bottom: 30px; 
            }
            .loading-epic { width: 90%; }
            .scanner-epic { 
                width: 95%; 
                padding: 30px; 
                height: auto; 
                min-height: 400px; 
            }
            .scanner-text-epic { 
                font-size: 1.6em; 
                margin: 80px 0 30px; 
            }
            .question-epic { font-size: 2.5em; }
            .message-epic { font-size: 1.2em; }
            .memory-epic { padding: 25px; }
            .btn-epic { 
                padding: 18px 50px; 
                font-size: 1.2em; 
            }
            .music-controls-epic {
                bottom: 20px;
                right: 20px;
                padding: 15px 20px;
            }
            .music-btn-epic {
                width: 55px;
                height: 55px;
                font-size: 22px;
            }
            .final-heart-epic { font-size: 100px; }
            .final-epic { 
                padding: 50px 25px; 
                border-radius: 30px; 
            }
        }

        @media (max-width: 480px) {
            h1 { font-size: 2.2em; }
            .heart-monument { 
                width: 140px; 
                height: 140px; 
                font-size: 55px; 
            }
            .loading-text { font-size: 1.1em; }
            .scanner-text-epic { font-size: 1.3em; }
            .question-epic { font-size: 2em; }
            .message-epic { font-size: 1.1em; line-height: 1.6; }
            .btn-epic { 
                padding: 15px 40px; 
                font-size: 1.1em; 
                width: 90%; 
            }
            .final-heart-epic { font-size: 80px; }
        }

        /* Efecto de lluvia de corazones mejorado */
        .heart-rain-epic {
            position: fixed;
            font-size: 24px;
            opacity: 0;
            z-index: 1;
            pointer-events: none;
            animation: heart-fall-epic 6s linear infinite;
            filter: drop-shadow(0 0 10px currentColor);
        }

        @keyframes heart-fall-epic {
            0% {
                transform: translateY(-100px) rotate(0deg) scale(0.3);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(100vh) rotate(720deg) scale(1.2);
                opacity: 0;
            }
        }

        /* Efecto de confeti √©pico */
        .confetti-epic {
            position: fixed;
            width: 20px;
            height: 20px;
            opacity: 0;
            z-index: 1000;
            pointer-events: none;
            animation: confetti-fall-epic 4s ease-out forwards;
            border-radius: 50%;
            box-shadow: 0 0 10px currentColor;
        }

        @keyframes confetti-fall-epic {
            0% {
                transform: translateY(-100px) rotate(0deg) scale(0);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg) scale(1);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Galaxia animada -->
    <div class="galaxy" id="galaxy"></div>

    <!-- Controles de m√∫sica -->
    <div class="music-controls-epic hidden">
        <button class="music-btn-epic" id="playBtn">‚ñ∂Ô∏è</button>
        <button class="music-btn-epic" id="pauseBtn" style="display: none;">‚è∏Ô∏è</button>
        <div class="music-info-epic" id="musicInfo">
            Let The Light In üíú
        </div>
    </div>

    <!-- Reproductor de YouTube -->
    <div id="youtubePlayer" style="display: none;">
        <iframe id="youtubeIframe" width="0" height="0" 
                src="https://www.youtube.com/embed/xwsYvBYZcx4?si=5pYd9KgANkSy9Q0U&enablejsapi=1&autoplay=0" 
                frameborder="0" 
                allow="autoplay; encrypted-media" 
                allowfullscreen></iframe>
    </div>

    <!-- FASE 1: Inicio √âPICO -->
    <div id="phase1" class="container phase">
        <div class="heart-monument" onclick="createHeartRain()">
            üíú
        </div>
        <h1>Para Mi Angela Mar√≠a</h1>
        <p class="subtitle">Un viaje especial a trav√©s de nuestros corazones</p>
        
        <div class="loading-epic">
            <div class="loading-text" id="loadingText">Inicializando sistema de amor...</div>
            <div class="loading-bar-container">
                <div class="loading-progress-epic" id="loadingProgress"></div>
            </div>
        </div>
        
        <p style="color: #ffb6c1; margin-top: 40px; font-size: 1.3em; text-shadow: 0 0 20px rgba(255, 182, 193, 0.6);">
            ‚ú® Preparando una sorpresa √∫nica para ti...
        </p>
        
        <button class="btn-epic" onclick="startExperience()" id="startBtn">
            Comenzar Esta Aventura
        </button>
    </div>

    <!-- FASE 2: Esc√°ner √âPICO -->
    <div id="phase2" class="container phase hidden">
        <div class="scanner-epic">
            <div class="heartbeat-scan"></div>
            <p class="scanner-text-epic">üíñ ESCANEANDO CORAZ√ìN</p>
            <p style="color: #f5deb3; margin-top: 40px; font-size: 1.2em; position: relative; z-index: 1;">
                Analizando frecuencias emocionales √∫nicas...
            </p>
            <div style="margin: 40px 0; position: relative; z-index: 1;">
                <div style="color: #ba87ba; font-size: 1.2em; margin-bottom: 15px; text-shadow: 0 0 10px rgba(186, 135, 186, 0.6);">
                    ‚ù§Ô∏è‚Äçüî• Paciente identificado:
                </div>
                <div style="color: #ffb6c1; font-size: 2em; font-weight: 600; text-shadow: 0 0 20px rgba(255, 182, 193, 0.8);">
                    Angela Mar√≠a Astacio Rodr√≠guez
                </div>
            </div>
            <p style="color: #f5deb3; font-size: 1.2em; position: relative; z-index: 1;">
                Estado emocional detectado: üí´ Profundamente especial
            </p>
        </div>
        <button class="btn-epic" onclick="nextPhase(3)" style="margin-top: 60px;">
            Ver Nuestra Historia Completa
        </button>
    </div>

    <!-- FASE 3: Nuestra Historia √âPICA -->
    <div id="phase3" class="container phase hidden">
        <div style="text-align: center; margin-bottom: 60px;">
            <h2 style="color: #ffb6c1; font-size: 3.2em; margin-bottom: 20px; text-shadow: 0 0 30px rgba(255, 182, 193, 0.7);">
                üìñ Nuestra Historia √âpica
            </h2>
            <p style="color: #f5deb3; font-size: 1.4em; max-width: 700px; margin: 0 auto;">
                Cada momento contigo es un cap√≠tulo escrito por el destino
            </p>
        </div>

        <div style="max-width: 1000px; width: 100%;">
            <!-- Memoria 1 -->
            <div class="memory-epic">
                <img src="https://drive.google.com/thumbnail?id=1_uv751dmpwQnqr1yl55Qq97KID2zKyPW&sz=w1000" 
                     alt="Nuestro comienzo √©pico" 
                     class="memory-img-epic"
                     onclick="openDriveImage('https://drive.google.com/file/d/1_uv751dmpwQnqr1yl55Qq97KID2zKyPW/view')">
                <div style="flex: 1;">
                    <div class="memory-date-epic">
                        <span>‚ú®</span> 19 DE MARZO, 2024 - EL COMIENZO DE TODO
                    </div>
                    <div class="memory-text-epic">
                        El d√≠a que cambiaron dos vidas para siempre. Cuando la sinceridad encontr√≥ 
                        su hogar en nuestros corazones y un simple "te quiero" se convirti√≥ en la 
                        promesa m√°s hermosa. El inicio de algo que solo el destino pudo escribir.
                    </div>
                    <a href="https://drive.google.com/file/d/1_uv751dmpwQnqr1yl55Qq97KID2zKyPW/view" 
                       target="_blank" 
                       class="drive-btn-epic">
                        üíæ Ver recuerdo completo
                    </a>
                </div>
            </div>

            <!-- Memoria 2 -->
            <div class="memory-epic">
                <img src="https://drive.google.com/thumbnail?id=1dcQyo6h9Q8gy6tECELCpVS9lRrEoy145&sz=w1000" 
                     alt="Hola mensaje especial" 
                     class="memory-img-epic"
                     onclick="openDriveImage('https://drive.google.com/file/d/1dcQyo6h9Q8gy6tECELCpVS9lRrEoy145/view')">
                <div style="flex: 1;">
                    <div class="memory-date-epic">
                        <span>üì±</span> FEBRERO 2024 - NUESTRO "HOLA :)"
                    </div>
                    <div class="memory-text-epic">
                        En el laboratorio de Qu√≠mica, entre f√≥rmulas y risas, un simple "Hola :)" 
                        se convirti√≥ en el puente que unir√≠a dos almas. Cada letra, cada emotic√≥n, 
                        cargado de la magia que solo nosotros pod√≠amos entender.
                    </div>
                    <a href="https://drive.google.com/file/d/1dcQyo6h9Q8gy6tECELCpVS9lRrEoy145/view" 
                       target="_blank" 
                       class="drive-btn-epic">
                        üíæ Ver recuerdo completo
                    </a>
                </div>
            </div>

            <!-- Memoria 3 -->
            <div class="memory-epic">
                <img src="https://drive.google.com/thumbnail?id=1o1zzQ9OCLt4NNZYtkMjiSZVUfGGWTA_C&sz=w1000" 
                     alt="Exposici√≥n estad√≠stica especial" 
                     class="memory-img-epic"
                     onclick="openDriveImage('https://drive.google.com/file/d/1o1zzQ9OCLt4NNZYtkMjiSZVUfGGWTA_C/view')">
                <div style="flex: 1;">
                    <div class="memory-date-epic">
                        <span>üéâ</span> ABRIL 2024 - RISAS COMPARTIDAS
                    </div>
                    <div class="memory-text-epic">
                        Nuestra exposici√≥n estad√≠stica, donde los n√∫meros se volvieron secundarios 
                        frente a la qu√≠mica perfecta entre nosotros. Riendo, compartiendo, 
                        descubriendo que juntos todo es mejor, m√°s divertido, m√°s especial.
                    </div>
                    <a href="https://drive.google.com/file/d/1o1zzQ9OCLt4NNZYtkMjiSZVUfGGWTA_C/view" 
                       target="_blank" 
                       class="drive-btn-epic">
                        üíæ Ver recuerdo completo
                    </a>
                </div>
            </div>

            <!-- Memoria 4 -->
            <div class="memory-epic">
                <img src="https://drive.google.com/thumbnail?id=1ISe8rRZcMahg5FOJlL3gMPzKYFmuD7WR&sz=w1000" 
                     alt="Esperando juntos" 
                     class="memory-img-epic"
                     onclick="openDriveImage('https://drive.google.com/file/d/1ISe8rRZcMahg5FOJlL3gMPzKYFmuD7WR/view')">
                <div style="flex: 1;">
                    <div class="memory-date-epic">
                        <span>üíô</span> FEBRERO 2024 - ESPERANDO JUNTOS
                    </div>
                    <div class="memory-text-epic">
                        Esperando al profesor de Qu√≠mica Org√°nica, el tiempo parec√≠a detenerse 
                        cuando est√°bamos juntos. Riendo como tontos enamorados, construyendo 
                        un v√≠nculo que ni la distancia podr√≠a romper.
                    </div>
                    <a href="https://drive.google.com/file/d/1ISe8rRZcMahg5FOJlL3gMPzKYFmuD7WR/view" 
                       target="_blank" 
                       class="drive-btn-epic">
                        üíæ Ver recuerdo completo
                    </a>
                </div>
            </div>

            <!-- Memoria 5 -->
            <div class="memory-epic">
                <img src="https://drive.google.com/thumbnail?id=1yzha45DGYv5GyrzJovvJ6e20PRcwTHDN&sz=w1000" 
                     alt="Angela hermosa" 
                     class="memory-img-epic"
                     onclick="openDriveImage('https://drive.google.com/file/d/1yzha45DGYv5GyrzJovvJ6e20PRcwTHDN/view')">
                <div style="flex: 1;">
                    <div class="memory-date-epic">
                        <span>‚ú®</span> ANGELA MAR√çA - MI TODO
                    </div>
                    <div class="memory-text-epic">
                        La mujer que ilumina mi existencia. Belleza que cautiva, coraz√≥n que 
                        enamora, alma que completa la m√≠a. Cada d√≠a a tu lado es un regalo, 
                        cada sonrisa tuya es mi motivaci√≥n, cada momento contigo es un tesoro.
                    </div>
                    <a href="https://drive.google.com/file/d/1yzha45DGYv5GyrzJovvJ6e20PRcwTHDN/view" 
                       target="_blank" 
                       class="drive-btn-epic">
                        üíæ Ver recuerdo completo
                    </a>
                </div>
            </div>

            <!-- Alerta especial -->
            <div style="background: linear-gradient(135deg, rgba(186, 135, 186, 0.25), rgba(255, 182, 193, 0.2)); 
                        padding: 40px; border-radius: 25px; margin: 50px 0; 
                        border: 2px solid rgba(255, 182, 193, 0.4); backdrop-filter: blur(10px);">
                <p style="color: #ffb6c1; font-weight: 700; font-size: 1.8em; margin-bottom: 25px; 
                          text-align: center; text-shadow: 0 0 20px rgba(255, 182, 193, 0.7);">
                    ‚ö†Ô∏è DIAGN√ìSTICO CR√çTICO DETECTADO ‚ö†Ô∏è
                </p>
                <p style="color: #e0e0e0; font-size: 1.3em; line-height: 1.8; text-align: center;">
                    Se ha identificado una <span style="color: #ba87ba; font-weight: 600;">anomal√≠a card√≠aca irreversible</span> 
                    en el paciente Rub√©n Adriel Cino Javier.<br><br>
                    <span style="color: #f5deb3; font-size: 1.1em;">
                        S√≠ntoma principal: El coraz√≥n solo late con normalidad cuando est√° 
                        emocionalmente conectado con Angela Mar√≠a Astacio Rodr√≠guez.
                    </span>
                </p>
            </div>
        </div>

        <button class="btn-epic" onclick="nextPhase(4)" style="margin-top: 60px;">
            Continuar al An√°lisis Profundo
        </button>
    </div>

    <!-- FASE 4: Visualizaci√≥n 3D √âPICA -->
    <div id="phase4" class="container phase hidden">
        <div class="scanner-epic" style="max-width: 900px;">
            <h2 style="color: #ffb6c1; font-size: 2.8em; margin-bottom: 40px; text-align: center; 
                       text-shadow: 0 0 25px rgba(255, 182, 193, 0.8); position: relative; z-index: 1;">
                üß† CONEXI√ìN NEUROL√ìGICA √âPICA
            </h2>
            
            <div style="display: flex; justify-content: center; margin: 50px 0; position: relative; z-index: 1;">
                <svg width="400" height="400" viewBox="0 0 400 400" style="filter: drop-shadow(0 0 30px rgba(255, 182, 193, 0.7));">
                    <!-- Cerebro Rub√©n -->
                    <ellipse cx="120" cy="200" rx="80" ry="110" fill="rgba(186, 135, 186, 0.25)" stroke="#ba87ba" stroke-width="4" class="neuron"/>
                    <circle cx="120" cy="150" r="12" fill="#ba87ba" class="neuron"/>
                    <circle cx="90" cy="200" r="10" fill="#ba87ba" class="neuron"/>
                    <circle cx="150" cy="230" r="11" fill="#ba87ba" class="neuron"/>
                    <circle cx="100" cy="250" r="9" fill="#ba87ba" class="neuron"/>
                    <text x="120" y="330" text-anchor="middle" fill="#ba87ba" font-size="22" font-weight="bold">Rub√©n</text>
                    
                    <!-- Cerebro Angela -->
                    <ellipse cx="280" cy="200" rx="80" ry="110" fill="rgba(255, 182, 193, 0.25)" stroke="#ffb6c1" stroke-width="4" class="neuron"/>
                    <circle cx="280" cy="150" r="12" fill="#ffb6c1" class="neuron"/>
                    <circle cx="250" cy="200" r="10" fill="#ffb6c1" class="neuron"/>
                    <circle cx="310" cy="230" r="11" fill="#ffb6c1" class="neuron"/>
                    <circle cx="260" cy="250" r="9" fill="#ffb6c1" class="neuron"/>
                    <text x="280" y="330" text-anchor="middle" fill="#ffb6c1" font-size="22" font-weight="bold">Angela</text>
                    
                    <!-- Conexiones energ√©ticas -->
                    <line x1="170" y1="160" x2="230" y2="160" stroke="#ffb6c1" stroke-width="4" stroke-dasharray="5,5">
                        <animate attributeName="stroke-dashoffset" values="0;20" dur="1s" repeatCount="indefinite"/>
                    </line>
                    <line x1="170" y1="200" x2="230" y2="200" stroke="#ba87ba" stroke-width="4" stroke-dasharray="5,5">
                        <animate attributeName="stroke-dashoffset" values="20;0" dur="1s" repeatCount="indefinite"/>
                    </line>
                    <line x1="170" y1="240" x2="230" y2="240" stroke="#f5deb3" stroke-width="4" stroke-dasharray="5,5">
                        <animate attributeName="stroke-dashoffset" values="0;20" dur="1s" repeatCount="indefinite"/>
                    </line>
                    
                    <!-- Coraz√≥n central brillante -->
                    <path d="M200 280 L170 240 Q160 230 160 220 Q160 210 170 210 Q180 210 190 220 L200 230 L210 220 Q220 210 230 210 Q240 210 240 220 Q240 230 230 240 Z" 
                          fill="#ffb6c1" opacity="0.9">
                        <animate attributeName="opacity" values="0.7;1;0.7" dur="1.2s" repeatCount="indefinite"/>
                        <animateTransform attributeName="transform" type="scale" values="1;1.1;1" dur="1.5s" repeatCount="indefinite"/>
                    </path>
                </svg>
            </div>

            <div style="background: rgba(186, 135, 186, 0.15); padding: 35px; border-radius: 20px; 
                        margin: 40px 0; border: 2px solid rgba(255, 182, 193, 0.3); position: relative; z-index: 1;">
                <h3 style="color: #ffb6c1; margin-bottom: 30px; font-size: 1.8em; text-align: center; 
                           text-shadow: 0 0 15px rgba(255, 182, 193, 0.6);">
                    üìä RESULTADOS DEL AN√ÅLISIS NEUROL√ìGICO:
                </h3>
                <div style="color: #e0e0e0; line-height: 2.2; font-size: 1.15em; text-align: left;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <span style="color: #ba87ba; font-size: 1.5em;">‚úì</span>
                        <span><strong style="color: #ba87ba;">C√≥rtex Prefrontal:</strong> Toma de decisiones perfectamente alineada</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <span style="color: #ffb6c1; font-size: 1.5em;">‚úì</span>
                        <span><strong style="color: #ffb6c1;">Sistema L√≠mbico:</strong> Producci√≥n de oxitocina elevada 340%</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <span style="color: #f5deb3; font-size: 1.5em;">‚úì</span>
                        <span><strong style="color: #f5deb3;">Neurotransmisores:</strong> Dopamina y serotonina en niveles √≥ptimos</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <span style="color: #ba87ba; font-size: 1.5em;">‚úì</span>
                        <span><strong style="color: #ba87ba;">Neuronas Espejo:</strong> Empat√≠a emocional del 98.7%</span>
                    </div>
                </div>
                <p style="color: #ffb6c1; font-weight: bold; margin-top: 40px; font-size: 1.5em; 
                          text-align: center; text-shadow: 0 0 20px rgba(255, 182, 193, 0.7);">
                    üî¨ CONCLUSI√ìN: Conexi√≥n neurol√≥gica √∫nica y excepcional
                </p>
            </div>
        </div>
        <button class="btn-epic" onclick="nextPhase(5)" style="margin-top: 60px;">
            Continuar al Mapa del Amor
        </button>
    </div>

    <!-- FASE 5: Mapa √âPICO -->
    <div id="phase5" class="container phase hidden">
        <div class="scanner-epic" style="max-width: 1000px;">
            <h2 style="color: #ffb6c1; font-size: 2.8em; margin-bottom: 40px; text-align: center; 
                       text-shadow: 0 0 25px rgba(255, 182, 193, 0.8); position: relative; z-index: 1;">
                üåç MAPA DEL AMOR √âPICO
            </h2>
            
            <div style="text-align: center; margin: 50px 0; position: relative; z-index: 1;">
                <svg width="800" height="400" viewBox="0 0 800 400" style="max-width: 100%; height: auto; 
                       filter: drop-shadow(0 0 30px rgba(186, 135, 186, 0.5));">
                    <!-- Fondo del mapa -->
                    <rect width="800" height="400" fill="rgba(30, 30, 60, 0.4)" rx="20"/>
                    
                    <!-- Onda de conexi√≥n -->
                    <circle cx="400" cy="200" r="150" fill="none" stroke="rgba(255, 182, 193, 0.1)" stroke-width="2">
                        <animate attributeName="r" values="150;250;150" dur="3s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="0.3;0.1;0.3" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    
                    <!-- Ubicaci√≥n Angela -->
                    <g transform="translate(200, 200)">
                        <circle r="25" fill="#ffb6c1" class="location-pin">
                            <animate attributeName="r" values="25;30;25" dur="2s" repeatCount="indefinite"/>
                        </circle>
                        <circle r="40" fill="none" stroke="#ffb6c1" stroke-width="2" opacity="0.5">
                            <animate attributeName="r" values="40;60;40" dur="2.5s" repeatCount="indefinite"/>
                            <animate attributeName="opacity" values="0.5;0;0.5" dur="2.5s" repeatCount="indefinite"/>
                        </circle>
                        <text y="70" text-anchor="middle" fill="#ffb6c1" font-size="18" font-weight="bold">
                            üè† Angela Mar√≠a
                        </text>
                        <text y="95" text-anchor="middle" fill="#f5deb3" font-size="14">
                            San Pedro de Macor√≠s
                        </text>
                    </g>
                    
                    <!-- Ubicaci√≥n Rub√©n -->
                    <g transform="translate(600, 200)">
                        <circle r="25" fill="#ba87ba" class="location-pin">
                            <animate attributeName="r" values="25;30;25" dur="2s" repeatCount="indefinite"/>
                        </circle>
                        <circle r="40" fill="none" stroke="#ba87ba" stroke-width="2" opacity="0.5">
                            <animate attributeName="r" values="40;60;40" dur="2.5s" repeatCount="indefinite"/>
                            <animate attributeName="opacity" values="0.5;0;0.5" dur="2.5s" repeatCount="indefinite"/>
                        </circle>
                        <text y="70" text-anchor="middle" fill="#ba87ba" font-size="18" font-weight="bold">
                            üíú Rub√©n Adriel
                        </text>
                        <text y="95" text-anchor="middle" fill="#f5deb3" font-size="14">
                            Cerca de tu coraz√≥n
                        </text>
                    </g>
                    
                    <!-- L√≠nea de conexi√≥n -->
                    <line x1="225" y1="200" x2="575" y2="200" stroke="#ffb6c1" stroke-width="4" 
                          stroke-dasharray="10,10">
                        <animate attributeName="stroke-dashoffset" values="0;20" dur="1s" repeatCount="indefinite"/>
                    </line>
                    
                    <!-- Coraz√≥n central -->
                    <g transform="translate(400, 180)">
                        <path d="M0 20 L-15 5 Q-20 0 -20 -5 Q-20 -10 -15 -10 Q-10 -10 0 0 L0 0 L0 0 Q10 -10 15 -10 Q20 -10 20 -5 Q20 0 15 5 Z" 
                              fill="#f5deb3" opacity="0.95" transform="scale(2)">
                            <animate attributeName="opacity" values="0.7;1;0.7" dur="1.5s" repeatCount="indefinite"/>
                            <animateTransform attributeName="transform" type="scale" values="2;2.2;2" dur="2s" repeatCount="indefinite"/>
                        </path>
                    </g>
                </svg>
            </div>

            <div style="background: rgba(255, 182, 193, 0.15); padding: 40px; border-radius: 25px; 
                        margin: 50px 0; border: 2px solid rgba(186, 135, 186, 0.4); position: relative; z-index: 1;">
                <h3 style="color: #ffb6c1; margin-bottom: 30px; font-size: 1.9em; text-align: center; 
                           text-shadow: 0 0 15px rgba(255, 182, 193, 0.6);">
                    üåü DATOS DE CONEXI√ìN √âPICA:
                </h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
                            gap: 25px; color: #e0e0e0; font-size: 1.1em;">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="color: #ba87ba; font-size: 1.8em;">üåê</span>
                        <div>
                            <strong style="color: #ba87ba;">Distancia F√≠sica:</strong><br>
                            Kil√≥metros que se desvanecen ante nuestro amor
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="color: #ffb6c1; font-size: 1.8em;">üí´</span>
                        <div>
                            <strong style="color: #ffb6c1;">Conexi√≥n Cu√°ntica:</strong><br>
                            Instant√°nea, inquebrantable, eterna
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="color: #f5deb3; font-size: 1.8em;">‚è∞</span>
                        <div>
                            <strong style="color: #f5deb3;">Sincronizaci√≥n:</strong><br>
                            Corazones latiendo al mismo ritmo
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="color: #ba87ba; font-size: 1.8em;">‚ú®</span>
                        <div>
                            <strong style="color: #ba87ba;">Fuerza del V√≠nculo:</strong><br>
                            M√°s fuerte que cualquier distancia
                        </div>
                    </div>
                </div>
                <p style="color: #ffb6c1; font-weight: bold; margin-top: 40px; font-size: 1.6em; 
                          text-align: center; text-shadow: 0 0 20px rgba(255, 182, 193, 0.7); 
                          font-style: italic;">
                    "La distancia es solo un n√∫mero cuando los corazones est√°n unidos por el destino"
                </p>
            </div>
        </div>
        <button class="btn-epic" onclick="nextPhase(6)" style="margin-top: 60px;">
            Ver Estad√≠sticas Finales
        </button>
    </div>

    <!-- FASE 6: Estad√≠sticas √âPICAS -->
    <div id="phase6" class="container phase hidden">
        <div style="text-align: center; margin-bottom: 60px; max-width: 1000px; width: 100%;">
            <h2 style="color: #ffb6c1; font-size: 3.5em; margin-bottom: 30px; 
                       text-shadow: 0 0 35px rgba(255, 182, 193, 0.8);">
                üìä ESTAD√çSTICAS √âPICAS
            </h2>
            <p style="color: #f5deb3; font-size: 1.5em; margin-bottom: 50px;">
                Los n√∫meros que confirman lo que nuestro coraz√≥n ya sabe
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
                        gap: 35px; margin: 60px 0;">
                <!-- Stat 1 -->
                <div style="background: linear-gradient(135deg, rgba(186, 135, 186, 0.2), rgba(255, 182, 193, 0.2)); 
                            padding: 40px; border-radius: 25px; text-align: center; 
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); 
                            border: 3px solid rgba(186, 135, 186, 0.4); backdrop-filter: blur(10px);
                            transition: all 0.5s; position: relative; overflow: hidden;">
                    <div style="font-size: 5em; font-weight: bold; background: linear-gradient(135deg, #ba87ba, #ffb6c1); 
                                -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
                                margin: 20px 0; text-shadow: 0 0 40px rgba(255, 182, 193, 0.6);">
                        99.9%
                    </div>
                    <h3 style="color: #ffb6c1; font-size: 1.4em; margin-bottom: 15px;">
                        üíØ Compatibilidad Total
                    </h3>
                    <p style="color: #f5deb3; font-size: 1.1em;">
                        Perfectamente sincronizados en cada aspecto
                    </p>
                </div>
                
                <!-- Stat 2 -->
                <div style="background: linear-gradient(135deg, rgba(186, 135, 186, 0.2), rgba(255, 182, 193, 0.2)); 
                            padding: 40px; border-radius: 25px; text-align: center; 
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); 
                            border: 3px solid rgba(186, 135, 186, 0.4); backdrop-filter: blur(10px);
                            transition: all 0.5s; position: relative; overflow: hidden;">
                    <div style="font-size: 5em; font-weight: bold; background: linear-gradient(135deg, #ba87ba, #ffb6c1); 
                                -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
                                margin: 20px 0; text-shadow: 0 0 40px rgba(255, 182, 193, 0.6);">
                        ‚àû
                    </div>
                    <h3 style="color: #ffb6c1; font-size: 1.4em; margin-bottom: 15px;">
                        üíñ Nivel de Amor
                    </h3>
                    <p style="color: #f5deb3; font-size: 1.1em;">
                        Infinito y en constante expansi√≥n
                    </p>
                </div>
                
                <!-- Stat 3 -->
                <div style="background: linear-gradient(135deg, rgba(186, 135, 186, 0.2), rgba(255, 182, 193, 0.2)); 
                            padding: 40px; border-radius: 25px; text-align: center; 
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); 
                            border: 3px solid rgba(186, 135, 186, 0.4); backdrop-filter: blur(10px);
                            transition: all 0.5s; position: relative; overflow: hidden;">
                    <div style="font-size: 5em; font-weight: bold; background: linear-gradient(135deg, #ba87ba, #ffb6c1); 
                                -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
                                margin: 20px 0; text-shadow: 0 0 40px rgba(255, 182, 193, 0.6);">
                        286
                    </div>
                    <h3 style="color: #ffb6c1; font-size: 1.4em; margin-bottom: 15px;">
                        ‚è±Ô∏è D√≠as Juntos
                    </h3>
                    <p style="color: #f5deb3; font-size: 1.1em;">
                        Desde el 19 de marzo, 2024 - y contando
                    </p>
                </div>
                
                <!-- Stat 4 -->
                <div style="background: linear-gradient(135deg, rgba(186, 135, 186, 0.2), rgba(255, 182, 193, 0.2)); 
                            padding: 40px; border-radius: 25px; text-align: center; 
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); 
                            border: 3px solid rgba(186, 135, 186, 0.4); backdrop-filter: blur(10px);
                            transition: all 0.5s; position: relative; overflow: hidden;">
                    <div style="font-size: 5em; font-weight: bold; background: linear-gradient(135deg, #ba87ba, #ffb6c1); 
                                -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
                                margin: 20px 0; text-shadow: 0 0 40px rgba(255, 182, 193, 0.6);">
                        100%
                    </div>
                    <h3 style="color: #ffb6c1; font-size: 1.4em; margin-bottom: 15px;">
                        üß¨ Almas Gemelas
                    </h3>
                    <p style="color: #f5deb3; font-size: 1.1em;">
                        Confirmaci√≥n cient√≠fica del destino
                    </p>
                </div>
            </div>
            
            <!-- Diagn√≥stico final -->
            <div style="background: linear-gradient(135deg, rgba(186, 135, 186, 0.25), rgba(255, 182, 193, 0.2)); 
                        padding: 50px; border-radius: 30px; margin: 70px 0; 
                        border: 3px solid rgba(255, 182, 193, 0.5); backdrop-filter: blur(15px);">
                <h3 style="color: #ffb6c1; font-size: 2.5em; margin-bottom: 40px; text-align: center; 
                           text-shadow: 0 0 25px rgba(255, 182, 193, 0.7);">
                    ü©∫ DIAGN√ìSTICO FINAL √âPICO
                </h3>
                
                <div style="background: rgba(20, 20, 40, 0.6); padding: 40px; border-radius: 20px; 
                            border-left: 8px solid #ffb6c1;">
                    <p style="color: #e0e0e0; font-size: 1.2em; line-height: 2; margin-bottom: 25px;">
                        <strong style="color: #ffb6c1; font-size: 1.3em;">PACIENTE:</strong> Angela Mar√≠a Astacio Rodr√≠guez<br>
                        <strong style="color: #f5deb3;">ID √âPICO:</strong> AMA-190324-√âPICO
                    </p>
                    
                    <p style="color: #e0e0e0; font-size: 1.2em; line-height: 1.8; margin-bottom: 30px;">
                        Tras un an√°lisis exhaustivo y utilizando la tecnolog√≠a m√°s avanzada, 
                        se confirma el diagn√≥stico de <strong style="color: #ba87ba;">S√≠ndrome de Amor Verdadero √âpico (SAVE)</strong> - 
                        una condici√≥n rara y extraordinaria que solo ocurre cuando dos almas 
                        destinadas se encuentran.
                    </p>
                    
                    <div style="background: rgba(255, 182, 193, 0.1); padding: 25px; border-radius: 15px; 
                                margin: 30px 0; border: 2px solid rgba(255, 182, 193, 0.3);">
                        <p style="color: #ffb6c1; font-weight: bold; font-size: 1.4em; margin-bottom: 20px; 
                                  text-align: center; text-shadow: 0 0 15px rgba(255, 182, 193, 0.6);">
                            ‚ö° TRATAMIENTO RECOMENDADO:
                        </p>
                        <p style="color: #f5deb3; font-size: 1.3em; text-align: center; font-weight: 600;">
                            Establecimiento inmediato de una relaci√≥n oficial,<br>
                            seguido de amor eterno, risas compartidas y aventuras infinitas.
                        </p>
                    </div>
                    
                    <p style="color: #ffb6c1; font-size: 1.3em; text-align: center; font-weight: 600; 
                              margin-top: 40px; text-shadow: 0 0 15px rgba(255, 182, 193, 0.6);">
                        Probabilidad de felicidad eterna: 99.9%<br>
                        Pron√≥stico: Excelente y lleno de amor
                    </p>
                </div>
            </div>
        </div>
        
        <button class="btn-epic" onclick="nextPhase(7)" style="margin-top: 60px;">
            Descubrir la Pregunta Final
        </button>
    </div>

    <!-- FASE 7: La Gran Pregunta √âPICA -->
    <div id="phase7" class="container phase hidden">
        <div class="final-epic">
            <div class="final-heart-epic" onclick="createHeartExplosion()">
                üíú
            </div>
            
            <h2 style="color: #ffb6c1; font-size: 2.8em; margin-bottom: 30px; 
                       text-shadow: 0 0 25px rgba(255, 182, 193, 0.8); 
                       font-family: 'Dancing Script', cursive; position: relative; z-index: 1;">
                Mi querida, hermosa y amada Angela
            </h2>
            
            <div class="question-epic">
                ¬øMe das el honor de ser tu novio?
            </div>
            
            <div class="message-epic">
                Desde aquel inolvidable <span class="highlight-epic">19 de marzo de 2024</span>,<br>
                mi mundo encontr√≥ su verdadero significado en ti.<br><br>
                
                Cada mensaje, cada risa compartida, cada mirada c√≥mplice<br>
                ha sido un latido m√°s en este coraz√≥n que late solo por ti.<br><br>
                
                <span class="highlight-epic" style="font-size: 1.3em;">
                    No soy perfecto, pero contigo quiero ser la mejor versi√≥n de m√≠.<br>
                    No tengo todo, pero contigo lo tengo absolutamente todo.<br>
                    No s√© lo que el futuro guarda, pero contigo quiero descubrirlo.
                </span>
            </div>

            <div style="margin: 60px 0; text-align: center; position: relative; z-index: 1;">
                <p style="color: #f5deb3; font-size: 1.5em; margin-bottom: 40px; 
                          text-shadow: 0 0 20px rgba(245, 222, 179, 0.7); font-weight: 600;">
                    üí´ Te espero con el coraz√≥n en la mano en videollamada üí´
                </p>
                <a href="https://meet.google.com/egx-sbiz-vux" 
                   target="_blank" 
                   class="btn-epic"
                   style="font-size: 1.5em; padding: 30px 70px; text-decoration: none; display: inline-block;">
                    üìπ Conectar Conmigo Ahora
                </a>
            </div>

            <div style="margin-top: 80px; padding-top: 50px; border-top: 3px solid rgba(186, 135, 186, 0.4); 
                        position: relative; z-index: 1;">
                <p style="color: #f5deb3; font-size: 1.3em; line-height: 1.9; font-style: italic; 
                          text-align: center; text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);">
                    "En un universo de infinitas posibilidades,<br>
                    entre miles de millones de caminos y destinos,<br>
                    la vida me gui√≥ directamente hacia ti.<br><br>
                    
                    No fue coincidencia, no fue casualidad.<br>
                    Fue el destino escribiendo la historia m√°s hermosa<br>
                    que dos corazones puedan compartir."
                </p>
                <p style="color: #ffb6c1; font-weight: 700; margin-top: 40px; font-size: 1.5em; 
                          text-align: center; text-shadow: 0 0 20px rgba(255, 182, 193, 0.8);">
                    Con todo el amor de mi ser,<br>
                    <span style="font-size: 1.8em; color: #ba87ba; text-shadow: 0 0 25px rgba(186, 135, 186, 0.7);">
                        Rub√©n Adriel üíú
                    </span><br>
                    <span style="color: #f5deb3; font-size: 1em; font-weight: normal; margin-top: 10px; display: block;">
                        1 de Enero, 2026
                    </span>
                </p>
            </div>
        </div>
    </div>

    <script>
        // ========== INICIALIZACI√ìN √âPICA ==========
        document.addEventListener('DOMContentLoaded', function() {
            createGalaxy();
            createFloatingHearts();
            createShootingStars();
            startEpicLoading();
        });

        // ========== CREACI√ìN DE GALAXIA ==========
        function createGalaxy() {
            const galaxy = document.getElementById('galaxy');
            
            // Estrellas brillantes
            for(let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 5 + 's';
                star.style.animationDuration = (2 + Math.random() * 4) + 's';
                star.style.opacity = 0.1 + Math.random() * 0.4;
                galaxy.appendChild(star);
            }
        }

        // ========== CORAZONES FLOTANTES ==========
        function createFloatingHearts() {
            const hearts = ['üíú', '‚ù§Ô∏è', 'üíñ', 'üíï', 'üíû', 'üíó', 'üíì', 'ü•∞'];
            
            for(let i = 0; i < 12; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.fontSize = (20 + Math.random() * 35) + 'px';
                heart.style.color = getRandomHeartColor();
                heart.style.animationDelay = Math.random() * 15 + 's';
                heart.style.animationDuration = (12 + Math.random() * 18) + 's';
                document.body.appendChild(heart);
            }
        }

        function getRandomHeartColor() {
            const colors = ['#ffb6c1', '#ba87ba', '#f5deb3', '#ff69b4', '#dda0dd'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // ========== ESTRELLAS FUGACES ==========
        function createShootingStars() {
            for(let i = 0; i < 5; i++) {
                const star = document.createElement('div');
                star.className = 'shooting-star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 8 + 's';
                star.style.animationDuration = (4 + Math.random() * 4) + 's';
                document.querySelector('.galaxy').appendChild(star);
            }
        }

        // ========== CARGA √âPICA ==========
        function startEpicLoading() {
            const progress = document.getElementById('loadingProgress');
            const text = document.getElementById('loadingText');
            const startBtn = document.getElementById('startBtn');
            
            let width = 0;
            const messages = [
                "Inicializando sistema de amor...",
                "Calibrando emociones...",
                "Analizando compatibilidad...",
                "Cargando momentos especiales...",
                "Preparando sorpresa √©pica...",
                "Sistema listo..."
            ];
            
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    // Mostrar bot√≥n con efecto √©pico
                    startBtn.style.opacity = '0';
                    startBtn.style.display = 'inline-block';
                    startBtn.style.transform = 'scale(0.8)';
                    setTimeout(() => {
                        startBtn.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
                        startBtn.style.opacity = '1';
                        startBtn.style.transform = 'scale(1)';
                    }, 100);
                } else {
                    width += 0.5; // M√°s lento para efecto √©pico
                    progress.style.width = width + '%';
                    
                    // Cambiar mensaje cada 16.6%
                    if (width % 16.6 < 0.5) {
                        const index = Math.floor(width / 16.6);
                        if (index < messages.length) {
                            text.textContent = messages[index];
                            // Efecto de texto
                            text.style.opacity = '0';
                            text.style.transform = 'translateY(10px)';
                            setTimeout(() => {
                                text.style.transition = 'all 0.5s';
                                text.style.opacity = '1';
                                text.style.transform = 'translateY(0)';
                            }, 50);
                        }
                    }
                }
            }, 25);
        }

        // ========== LLUVIA DE CORAZONES √âPICA ==========
        function createHeartRain() {
            const hearts = ['üíú', '‚ù§Ô∏è', 'üíñ', 'üíï', 'üíû', 'üíó', 'üíì'];
            
            for(let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-rain-epic';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.fontSize = (30 + Math.random() * 40) + 'px';
                heart.style.color = getRandomHeartColor();
                heart.style.animationDelay = Math.random() * 2 + 's';
                heart.style.animationDuration = (4 + Math.random() * 4) + 's';
                document.body.appendChild(heart);
                
                // Eliminar despu√©s de la animaci√≥n
                setTimeout(() => {
                    heart.remove();
                }, 8000);
            }
        }

        // ========== EXPLOSI√ìN DE CORAZONES √âPICA ==========
        function createHeartExplosion() {
            const hearts = ['üíú', '‚ù§Ô∏è', 'üíñ', 'üíï', 'üíû', 'üíó', 'üíì', 'ü•∞'];
            const colors = ['#ffb6c1', '#ba87ba', '#f5deb3', '#ff69b4', '#dda0dd'];
            
            for(let i = 0; i < 80; i++) {
                const heart = document.createElement('div');
                heart.className = 'confetti-epic';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = '50%';
                heart.style.top = '50%';
                heart.style.fontSize = (25 + Math.random() * 35) + 'px';
                heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                
                // Configurar animaci√≥n personalizada
                const tx = (Math.random() * 400 - 200) + 'px';
                const ty = (Math.random() * 400 - 200) + 'px';
                const rotate = (Math.random() * 720 - 360) + 'deg';
                const duration = 2 + Math.random() * 2 + 's';
                
                heart.style.animation = `heart-explosion-epic ${duration} ease-out forwards`;
                heart.style.setProperty('--tx', tx);
                heart.style.setProperty('--ty', ty);
                heart.style.setProperty('--rotate', rotate);
                
                document.body.appendChild(heart);
                
                // Eliminar despu√©s
                setTimeout(() => {
                    heart.remove();
                }, 4000);
            }
            
            // A√±adir keyframes din√°micamente
            if (!document.getElementById('explosion-keyframes')) {
                const style = document.createElement('style');
                style.id = 'explosion-keyframes';
                style.textContent = `
                    @keyframes heart-explosion-epic {
                        0% {
                            transform: translate(0, 0) rotate(0deg) scale(0);
                            opacity: 1;
                        }
                        100% {
                            transform: translate(var(--tx), var(--ty)) rotate(var(--rotate)) scale(1);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // ========== CONTROL DE M√öSICA YOUTUBE ==========
        let player;
        let isPlaying = false;

        // Cargar YouTube API
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtubeIframe', {
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady() {
            console.log('Reproductor √©pico listo');
        }

        function onPlayerStateChange(event) {
            const playBtn = document.getElementById('playBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const musicInfo = document.getElementById('musicInfo');
            const musicControls = document.querySelector('.music-controls-epic');
            
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                playBtn.style.display = 'none';
                pauseBtn.style.display = 'flex';
                musicInfo.style.display = 'block';
                musicControls.classList.remove('hidden');
            } else if (event.data === YT.PlayerState.PAUSED) {
                isPlaying = false;
                playBtn.style.display = 'flex';
                pauseBtn.style.display = 'none';
            }
        }

        // Control de botones de m√∫sica
        document.getElementById('playBtn').addEventListener('click', function() {
            if (player && typeof player.playVideo === 'function') {
                player.playVideo();
            }
        });

        document.getElementById('pauseBtn').addEventListener('click', function() {
            if (player && typeof player.pauseVideo === 'function') {
                player.pauseVideo();
            }
        });

        // ========== CONTROL DE FASES (ARREGLADO) ==========
        function startExperience() {
            nextPhase(2);
        }

        function nextPhase(phaseNumber) {
            console.log('Navegando a fase:', phaseNumber);
            
            // Ocultar fase actual con animaci√≥n √©pica
            const currentPhase = document.querySelector('.phase:not(.hidden)');
            if (currentPhase) {
                currentPhase.style.animation = 'fadeOut 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards';
                setTimeout(() => {
                    currentPhase.classList.add('hidden');
                    currentPhase.style.animation = '';
                }, 800);
            }
            
            // Mostrar nueva fase con efecto √©pico
            setTimeout(() => {
                const targetPhase = document.getElementById('phase' + phaseNumber);
                if (targetPhase) {
                    targetPhase.classList.remove('hidden');
                    
                    // Scroll suave al inicio
                    if (phaseNumber > 1) {
                        window.scrollTo({ 
                            top: 0, 
                            behavior: 'smooth' 
                        });
                    }
                    
                    // Control especial para fase final
                    if (phaseNumber === 7) {
                        setTimeout(() => {
                            // Mostrar controles de m√∫sica
                            const musicControls = document.querySelector('.music-controls-epic');
                            musicControls.classList.remove('hidden');
                            
                            // Crear confeti especial
                            createConfettiEpic();
                            
                            // Reproducir m√∫sica autom√°ticamente (opcional)
                            // if (player && typeof player.playVideo === 'function' && !isPlaying) {
                            //     setTimeout(() => {
                            //         player.playVideo();
                            //     }, 1500);
                            // }
                        }, 1200);
                    } else {
                        // Ocultar controles de m√∫sica en otras fases
                        const musicControls = document.querySelector('.music-controls-epic');
                        musicControls.classList.add('hidden');
                        
                        // Pausar m√∫sica si est√° sonando
                        if (player && typeof player.pauseVideo === 'function' && isPlaying) {
                            player.pauseVideo();
                        }
                    }
                }
            }, 850);
        }

        // ========== CONFETI √âPICO ==========
        function createConfettiEpic() {
            const colors = ['#ffb6c1', '#ba87ba', '#f5deb3', '#ff69b4', '#dda0dd'];
            
            for(let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-epic';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = Math.random() * 100 + '%';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = (15 + Math.random() * 25) + 'px';
                confetti.style.height = confetti.style.width;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.animation = `confetti-fall-epic ${3 + Math.random() * 4}s ease-out forwards`;
                confetti.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 7000);
            }
        }

        // A√±adir keyframes para confeti √©pico
        if (!document.getElementById('confetti-keyframes')) {
            const style = document.createElement('style');
            style.id = 'confetti-keyframes';
            style.textContent = `
                @keyframes confetti-fall-epic {
                    0% {
                        transform: translateY(-100px) rotate(0deg) scale(0);
                        opacity: 1;
                    }
                    100% {
                        transform: translateY(100vh) rotate(720deg) scale(1);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
        }

        // ========== FUNCIONES UTILES ==========
        function openDriveImage(url) {
            window.open(url, '_blank');
        }

        // ========== EFECTO DE TEXTO PARPADEANTE ==========
        function blinkText(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                let opacity = 1;
                const interval = setInterval(() => {
                    opacity = opacity === 1 ? 0.3 : 1;
                    element.style.opacity = opacity;
                }, 500);
                
                setTimeout(() => {
                    clearInterval(interval);
                    element.style.opacity = 1;
                }, 3000);
            }
        }

        // Iniciar algunos efectos al cargar
        setTimeout(() => {
            blinkText('loadingText');
        }, 1000);
    </script>
</body>
</html>